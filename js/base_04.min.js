function FastClick(a, b) { function c(a, b) { return function () { return a.apply(b, arguments) } } var d, e, f, g, h; if (b = b || {}, this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = b.touchBoundary || 10, this.layer = a, this.tapDelay = b.tapDelay || 200, !FastClick.notNeeded(a)) { for (e = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"], f = this, g = 0, h = e.length; h > g; g++) f[e[g]] = c(f[e[g]], f); deviceIsAndroid && (a.addEventListener("mouseover", this.onMouse, !0), a.addEventListener("mousedown", this.onMouse, !0), a.addEventListener("mouseup", this.onMouse, !0)), a.addEventListener("click", this.onClick, !0), a.addEventListener("touchstart", this.onTouchStart, !1), a.addEventListener("touchmove", this.onTouchMove, !1), a.addEventListener("touchend", this.onTouchEnd, !1), a.addEventListener("touchcancel", this.onTouchCancel, !1), Event.prototype.stopImmediatePropagation || (a.removeEventListener = function (b, c, d) { var e = Node.prototype.removeEventListener; "click" === b ? e.call(a, b, c.hijacked || c, d) : e.call(a, b, c, d) }, a.addEventListener = function (b, c, d) { var e = Node.prototype.addEventListener; "click" === b ? e.call(a, b, c.hijacked || (c.hijacked = function (a) { a.propagationStopped || c(a) }), d) : e.call(a, b, c, d) }), "function" == typeof a.onclick && (d = a.onclick, a.addEventListener("click", function (a) { d(a) }, !1), a.onclick = null) } } window.zenjs = window.zenjs || {}, function (a) { var b = navigator.userAgent.toLowerCase(); a.UA = { isIOS: function () { return "ios" == window._global.mobile_system }, getIOSVersion: function () { return parseFloat(("" + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) || !1 }, isAndroid: function () { return "android" == window._global.mobile_system }, isAndroidOld: function () { return /android 2.3/gi.test(b) || /android 2.2/gi.test(b) }, isWeixin: function () { return "weixin" == window._global.platform }, isIPad: function () { return /ipad/gi.test(b) }, isMobile: function () { return window._global.is_mobile }, isSafari: function () { return /safari/gi.test(b) && !/chrome/gi.test(b) } } }(window.zenjs), define("components/zenjs/util/ua", function () { }), define("wap/base/fullguide", ["components/zenjs/util/ua"], function () { var b = window.Zepto || window.jQuery || b, c = window._global, d = b("body"), e = zenjs.UA.isWeixin() && c.mp_data && +c.mp_data.quick_subscribe && c.mp_data.quick_subscribe_url, f = { fav: function () { return '<div id="js-fav-guide" class="js-fullguide fullscreen-guide fav-guide hide"><span class="guide-close">&times;</span><span class="guide-arrow"></span><div class="guide-inner"><div class="step step-1"></div><div class="step step-2"></div></div></div>' }, share: function () { return '<div id="js-share-guide" class="js-fullguide fullscreen-guide hide" style="font-size: 16px; line-height: 35px; color: #fff; text-align: center;"><span class="js-close-guide guide-close">&times;</span><span class="guide-arrow"></span><div class="guide-inner">请点击右上角<br/>通过【发送给朋友】功能<br>或【分享到朋友圈】功能<br>把消息告诉小伙伴哟～</div></div>' }, browser: function (a) { var b = a || {}, c = b.isIOS ? '<div id="js-share-guide" class="js-fullguide fullscreen-guide hide" style="font-size: 16px; line-height: 35px; color: #fff; text-align: center;"><span class="js-close-guide guide-close">&times;</span><span class="guide-arrow"></span><div class="guide-inner">请点击右上角<br/>在Safari中打开～</div></div>' : '<div id="js-share-guide" class="js-fullguide fullscreen-guide hide" style="font-size: 16px; line-height: 35px; color: #fff; text-align: center;"><span class="js-close-guide guide-close">&times;</span><span class="guide-arrow"></span><div class="guide-inner">请点击右上角<br/>在浏览器中打开～</div></div>'; return c }, follow: function (a) { var b = a || {}, c = ['<div id="js-follow-guide" class="js-fullguide fullscreen-guide follow-guide hide"><span class="js-close-guide guide-close">&times;</span><div class="guide-inner"><div class="step step-2"></div><div class="wxid"><strong>', b.mp_weixin, '</strong></div><div class="step step-3"></div></div></div>']; return c.join("") }, goodsFollow: function (a) { var b = a || {}, c = ['<div id="js-follow-guide" class="js-fullguide fullscreen-guide follow-guide hide"><span class="js-close-guide guide-close">&times;</span><div class="guide-inner"><h3 class="guide-inner-title">你需要关注后才能购买</h3><div class="step step-2"></div><div class="wxid"><strong>', b.mp_weixin, '</strong></div><div class="step step-3"></div></div></div>']; return c.join("") }, goodsQuickSubscribe: function (a) { var b = a || {}, c = ['<div id="js-follow-guide" class="js-fullguide fullscreen-guide follow-guide hide"><div class="quick-subscribe js-quick-subscribe"><h2>请先关注后再购买，享受更好的服务~</h2><div><a class="btn" href="', b.quick_subscribe_url, '">去关注</a ></div></div></div>']; return c.join("") }, pc: function (a) { var b = a || {}, c = ['<div id="js-share-guide" class="js-fullguide fullscreen-guide hide" style="font-size: 20px; line-height: 30px; color: #fff; text-align: center;"> <span class="js-close-guide guide-close">&times;</span> <div class="guide-inner"> 通过微信【扫一扫】功能<br/>扫描二维码关注我们<img style="width:160px; height: 160px;margin-top: 20px;" src="http://open.weixin.qq.com/qr/code/?username=', b.mp_weixin, '" alt="', b.mp_weixin, '"> </div> </div> ']; return c.join("") } }, g = { follow: "#js-follow-guide", fav: "#js-fav-guide", share: "#js-share-guide" }, h = function (a, c) { var d, e; b(g[a]).length ? e = b(g[a]) : (d = f[a](c || {}), e = b(d).appendTo("body")), e.removeClass("hide") }, i = { fav: function () { h("fav") }, share: function () { h("share") }, follow: function (a) { var b = c.mp_data; return b ? !(a || {}).goods && e ? void (window.location.href = b.quick_subscribe_url) : void h("follow", b) : void 0 }, browser: function (a) { zenjs.UA.isWeixin() && h("browser", a) } }, j = function (a, c) { var d = b(g[a]); d && 0 != d.length ? d.removeClass("hide") : i[a](c) }; c.is_mobile ? c && "Showcase_Goods_Controller" === c.controller && (f.follow = e ? f.goodsQuickSubscribe : f.goodsFollow) : f.follow = f.pc, d.on("click", ".wxid", function (a) { a.stopPropagation() }), d.on("click", ".js-open-follow", function (a) { a.preventDefault(), j("follow") }), d.on("click", ".js-open-browser", function (a) { a.preventDefault(), j("browser") }), d.on("click", ".js-open-fav", function (a) { a.preventDefault(), j("fav") }), d.on("click", ".js-open-share", function (a) { a.preventDefault(), window._global && window._global.wuxi1_0_0 && window.shareHook ? window.shareHook() : window.YuanmiJSBridge ? window.YuanmiJSBridge.doShare() : j("share") }), d.on("click", ".js-fullguide", function () { b(this).addClass("hide") }), d.on("click", ".js-quick-subscribe", function (a) { a.stopPropagation() }), window.showGuide = j }); var deviceIsAndroid = navigator.userAgent.indexOf("Android") > 0, deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent), deviceIsIOS4 = deviceIsIOS && /OS 4_\d(_\d)?/.test(navigator.userAgent), deviceIsIOSWithBadTarget = deviceIsIOS && /OS ([6-9]|\d{2})_\d/.test(navigator.userAgent), deviceIsBlackBerry10 = navigator.userAgent.indexOf("BB10") > 0; FastClick.prototype.needsClick = function (a) { switch (a.nodeName.toLowerCase()) { case "button": case "select": case "textarea": if (a.disabled) return !0; break; case "input": if (deviceIsIOS && "file" === a.type || a.disabled) return !0; break; case "label": case "video": return !0 } return /\bneedsclick\b/.test(a.className) }, FastClick.prototype.needsFocus = function (a) { switch (a.nodeName.toLowerCase()) { case "textarea": return !0; case "select": return !deviceIsAndroid; case "input": switch (a.type) { case "button": case "checkbox": case "file": case "image": case "radio": case "submit": return !1 } return !a.disabled && !a.readOnly; default: return /\bneedsfocus\b/.test(a.className) } }, FastClick.prototype.sendClick = function (a, b) { var c, d; document.activeElement && document.activeElement !== a && document.activeElement.blur(), d = b.changedTouches[0], c = document.createEvent("MouseEvents"), c.initMouseEvent(this.determineEventType(a), !0, !0, window, 1, d.screenX, d.screenY, d.clientX, d.clientY, !1, !1, !1, !1, 0, null), c.forwardedTouchEvent = !0, a.dispatchEvent(c) }, FastClick.prototype.determineEventType = function (a) { return deviceIsAndroid && "select" === a.tagName.toLowerCase() ? "mousedown" : "click" }, FastClick.prototype.focus = function (a) { var b; deviceIsIOS && a.setSelectionRange && 0 !== a.type.indexOf("date") && "time" !== a.type ? (b = a.value.length, a.setSelectionRange(b, b)) : a.focus() }, FastClick.prototype.updateScrollParent = function (a) { var b, c; if (b = a.fastClickScrollParent, !b || !b.contains(a)) { c = a; do { if (c.scrollHeight > c.offsetHeight) { b = c, a.fastClickScrollParent = c; break } c = c.parentElement } while (c) } b && (b.fastClickLastScrollTop = b.scrollTop) }, FastClick.prototype.getTargetElementFromEventTarget = function (a) { return a.nodeType === Node.TEXT_NODE ? a.parentNode : a }, FastClick.prototype.onTouchStart = function (a) { var b, c, d; if (a.targetTouches.length > 1) return !0; if (b = this.getTargetElementFromEventTarget(a.target), c = a.targetTouches[0], deviceIsIOS) { if (d = window.getSelection(), d.rangeCount && !d.isCollapsed) return !0; if (!deviceIsIOS4) { if (c.identifier === this.lastTouchIdentifier) return a.preventDefault(), !1; this.lastTouchIdentifier = c.identifier, this.updateScrollParent(b) } } return this.trackingClick = !0, this.trackingClickStart = a.timeStamp, this.targetElement = b, this.touchStartX = c.pageX, this.touchStartY = c.pageY, a.timeStamp - this.lastClickTime < this.tapDelay && a.preventDefault(), !0 }, FastClick.prototype.touchHasMoved = function (a) { var b = a.changedTouches[0], c = this.touchBoundary; return Math.abs(b.pageX - this.touchStartX) > c || Math.abs(b.pageY - this.touchStartY) > c ? !0 : !1 }, FastClick.prototype.onTouchMove = function (a) { return this.trackingClick ? ((this.targetElement !== this.getTargetElementFromEventTarget(a.target) || this.touchHasMoved(a)) && (this.trackingClick = !1, this.targetElement = null), !0) : !0 }, FastClick.prototype.findControl = function (a) { return void 0 !== a.control ? a.control : a.htmlFor ? document.getElementById(a.htmlFor) : a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea") }, FastClick.prototype.onTouchEnd = function (a) { var b, c, d, e, f, g = this.targetElement; if (!this.trackingClick) return !0; if (a.timeStamp - this.lastClickTime < this.tapDelay) return this.cancelNextClick = !0, !0; if (this.cancelNextClick = !1, this.lastClickTime = a.timeStamp, c = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, deviceIsIOSWithBadTarget && (f = a.changedTouches[0], g = document.elementFromPoint(f.pageX - window.pageXOffset, f.pageY - window.pageYOffset) || g, g.fastClickScrollParent = this.targetElement.fastClickScrollParent), d = g.tagName.toLowerCase(), "label" === d) { if (b = this.findControl(g)) { if (this.focus(g), deviceIsAndroid) return !1; g = b } } else if (this.needsFocus(g)) return a.timeStamp - c > 100 || deviceIsIOS && window.top !== window && "input" === d ? (this.targetElement = null, !1) : (this.focus(g), this.sendClick(g, a), deviceIsIOS && "select" === d || (this.targetElement = null, a.preventDefault()), !1); return deviceIsIOS && !deviceIsIOS4 && (e = g.fastClickScrollParent, e && e.fastClickLastScrollTop !== e.scrollTop) ? !0 : (this.needsClick(g) || (a.preventDefault(), this.sendClick(g, a)), !1) }, FastClick.prototype.onTouchCancel = function () { this.trackingClick = !1, this.targetElement = null }, FastClick.prototype.onMouse = function (a) { return this.targetElement ? a.forwardedTouchEvent ? !0 : !a.cancelable || this.needsClick(this.targetElement) && !this.cancelNextClick ? !0 : (a.stopImmediatePropagation ? a.stopImmediatePropagation() : a.propagationStopped = !0, a.stopPropagation(), a.preventDefault(), !1) : !0 }, FastClick.prototype.onClick = function (a) { var b; return this.trackingClick ? (this.targetElement = null, this.trackingClick = !1, !0) : "submit" === a.target.type && 0 === a.detail ? !0 : (b = this.onMouse(a), b || (this.targetElement = null), b) }, FastClick.prototype.destroy = function () { var a = this.layer; deviceIsAndroid && (a.removeEventListener("mouseover", this.onMouse, !0), a.removeEventListener("mousedown", this.onMouse, !0), a.removeEventListener("mouseup", this.onMouse, !0)), a.removeEventListener("click", this.onClick, !0), a.removeEventListener("touchstart", this.onTouchStart, !1), a.removeEventListener("touchmove", this.onTouchMove, !1), a.removeEventListener("touchend", this.onTouchEnd, !1), a.removeEventListener("touchcancel", this.onTouchCancel, !1) }, FastClick.notNeeded = function (a) { var b, c, d; if ("undefined" == typeof window.ontouchstart) return !0; if (c = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]) { if (!deviceIsAndroid) return !0; if (b = document.querySelector("meta[name=viewport]")) { if (-1 !== b.content.indexOf("user-scalable=no")) return !0; if (c > 31 && document.documentElement.scrollWidth <= window.outerWidth) return !0 } } if (deviceIsBlackBerry10 && (d = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/), d[1] >= 10 && d[2] >= 3 && (b = document.querySelector("meta[name=viewport]")))) { if (-1 !== b.content.indexOf("user-scalable=no")) return !0; if (document.documentElement.scrollWidth <= window.outerWidth) return !0 } return "none" === a.style.msTouchAction ? !0 : !1 }, FastClick.attach = function (a, b) { return new FastClick(a, b) }, define("vendor/fastclick_release", function () { }), window.zenjs = window.zenjs || {}, function (a) { a.Args = { getParameterByName: function (a, b) { a = a.replace(/[[]/, "\\[").replace(/[]]/, "\\]"), b = b ? "?" + b.split("#")[0].split("?")[1] : window.location.search; var c = RegExp("[?&]" + a + "=([^&#]*)").exec(b); return c ? decodeURIComponent(c[1].replace(/\+/g, " ")) : "" }, removeParameter: function (a, b) { var d, e, f, c = a.split("?"); if (c.length >= 2) { for (d = encodeURIComponent(b) + "=", e = c[1].split(/[&;]/g), f = e.length; f-- > 0;) -1 !== e[f].lastIndexOf(d, 0) && e.splice(f, 1); return a = c[0] + "?" + e.join("&") } return a }, addParameter: function () { var a = function (a) { var c, b = ""; for (c in a) b += $.trim(c) + "=" + a[c] + "&"; return b ? "?" + b.slice(0, b.length - 1) : "" }; return function (b, c) { if (!b || 0 === b.length || 0 === $.trim(b).indexOf("javascript")) return ""; var d = b.split("#"), e = d[0].split("?"), f = {}; return e[1] && $.each(e[1].split("&"), function (a, b) { var c; c = b.split("="), f[c[0]] = c.slice(1).join("=") }), $.each(c || {}, function (a, b) { f[$.trim(a)] = encodeURIComponent(b) }), b = e[0] + a(f), d[1] ? b += "#" + d[1] : b } }() }, a.Args.get = a.Args.getParameterByName, a.Args.remove = a.Args.removeParameter, a.Args.add = a.Args.addParameter }(window.zenjs), define("components/zenjs/util/args", function () { }), define("wap/base/log", ["components/zenjs/util/args"], function () { var c, d, e, a = window.Zepto || window.jQuery || a, b = {}; _global.spm = _global.spm || {}, c = function () { var b = function () { return _global.spm.logType + _global.spm.logId || "fake" + _global.group_id }; return function () { var d, c = zenjs.Args.get("spm"); return c = a.trim(c), "" !== c ? (d = c.split("_"), d.length > 2 && (c = d[0] + "_" + d[d.length - 1]), c += "_" + b()) : c = b(), c } }(), d = function (b, c) { var e = new Image, f = Math.floor(2147483648 * Math.random()).toString(36), g = "log_" + f, h = new a.Deferred; return window[g] = e, e.onload = e.onerror = e.onabort = function () { e.onload = e.onerror = e.onabort = null, window[g] = null, e = null, h.resolve() }, c.link = window.location.href, c.time = (new Date).getTime(), e.src = zenjs.Args.add(b, c), window.setTimeout(h.resolve, 1500), h.promise() }, e = function (a) { a = a || "default"; var b = { wxd: "http://m.yuan.cn/content/images/1.gif", wxdapp: "http://m.yuan.cn/content/images/1.gif", "default": "http://m.yuan.cn/content/images/1.gif" }; return b[a] }, b.log = function (c, f) { return c.spm || (c.spm = b.getSpm()), c.referer_url || (c.referer_url = encodeURIComponent(document.referrer)), c.title || (c.title = _global.title || a.trim(document.title)), d(e(c.target), c, f) }, b.getSpm = function () { return b.spm || (b.spm = c()), b.spm }, window.Logger = b }), define("wap/base/lazy_load", ["wap/base/log"], function () { var a = window.Zepto || window.jQuery || a, b = a(window), c = Logger && Logger.getSpm() || ""; a.fn.lazyload = function (c) { function d() { var b = 0; f.each(function () { var c = a(this); if (!g.skip_invisible || c.is(":visible")) if (a.abovethetop(this, g) || a.leftofbegin(this, g)); else if (a.belowthefold(this, g) || a.rightoffold(this, g)) { if (++b > g.failure_limit) return !1 } else c.trigger("appear"), b = 0 }) } var e, f = this, g = { threshold: 0, failure_limit: 0, event: "scroll", effect: "show", container: window, data_attribute: "src", skip_invisible: !1, appear: null, load: null, placeholder: null }; return c && (void 0 !== c.failurelimit && (c.failure_limit = c.failurelimit, delete c.failurelimit), void 0 !== c.effectspeed && (c.effect_speed = c.effectspeed, delete c.effectspeed), a.extend(g, c)), e = void 0 === g.container || g.container === window ? b : a(g.container), 0 === g.event.indexOf("scroll") && e.bind(g.event, function () { return d() }), this.each(function () { var b = this, c = a(b); b.loaded = !1, (void 0 === c.attr("src") || c.attr("src") === !1) && c.is("img") && g.placeholder && c.attr("src", g.placeholder), c.one("appear", function () { if (!this.loaded) { if (g.appear) { var d = f.length; g.appear.call(b, d, g) } a("<img />").bind("load", function () { var e, h, i, d = c.attr("data-" + g.data_attribute); c.hide(), c.is("img") ? c.attr("src", d) : c.css("background-image", 'url("' + d + '")'), c[g.effect](), b.loaded = !0, e = a(b).parent(), e.hasClass("photo-block") && e.css("background-color", "#fff"), h = a.grep(f, function (a) { return !a.loaded }), f = a(h), g.load && (i = f.length, g.load.call(b, i, g)) }).attr("src", c.attr("data-" + g.data_attribute)) } }), 0 !== g.event.indexOf("scroll") && c.bind(g.event, function () { b.loaded || c.trigger("appear") }) }), b.bind("resize", function () { d() }), /(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion) && b.bind("pageshow", function (b) { b.originalEvent && b.originalEvent.persisted && f.each(function () { a(this).trigger("appear") }) }), a(document).ready(function () { d() }), this }, a.belowthefold = function (c, d) { var e; return e = void 0 === d.container || d.container === window ? (window.innerHeight ? window.innerHeight : b.height()) + b.scrollTop() : a(d.container).offset().top + a(d.container).height(), e <= a(c).offset().top - d.threshold }, a.rightoffold = function (c, d) { var e; return e = void 0 === d.container || d.container === window ? b.width() + b.scrollLeft() : a(d.container).offset().left + a(d.container).width(), e <= a(c).offset().left - d.threshold }, a.abovethetop = function (c, d) { var e; return e = void 0 === d.container || d.container === window ? b.scrollTop() : a(d.container).offset().top, e >= a(c).offset().top + d.threshold + a(c).height() }, a.leftofbegin = function (c, d) { var e; return e = void 0 === d.container || d.container === window ? b.scrollLeft() : a(d.container).offset().left, e >= a(c).offset().left + d.threshold + a(c).width() }, a.inviewport = function (b, c) { return !(a.rightoffold(b, c) || a.leftofbegin(b, c) || a.belowthefold(b, c) || a.abovethetop(b, c)) }, a(".js-lazy").lazyload({ threshold: 200 }), a(".js-goods-lazy").lazyload({ threshold: 200, appear: function () { var b, d = a(this).parents(".js-goods").first().data("goods-id"); b = c.lastIndexOf("_") === c.length - 1 ? c + "SI" + d : c + "_SI" + d, Logger && Logger.log({ spm: b, fm: "display" }) } }) }), window.zenjs = window.zenjs || {}, function (a) { a.Str = a.Str || {}, a.Str.unescape = function (a) { var b = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#x27;": "'" }, c = /(\&amp;|\&lt;|\&gt;|\&quot;|\&#x27;)/g; return ("" + a).replace(c, function (a) { return b[a] }) } }(window.zenjs), define("components/zenjs/util/str/unescape", function () { }), define("wap/base/share", ["components/zenjs/util/args", "components/zenjs/util/str/unescape"], function () { }), define("components/zenjs/class", ["require", "exports", "module"], function (a, b, c) { var d = !1, e = /\b_super\b/, f = function () { }; f.extend = function (a) { function b() { !d && this.init && this.init.apply(this, arguments) } var f, g, c = this.prototype; d = !0, f = new this, d = !1; for (g in a) f[g] = "function" == typeof a[g] && "function" == typeof c[g] && e.test(a[g]) ? function (a, b) { return function () { var e, d = this._super; return this._super = c[a], e = b.apply(this, arguments), this._super = d, e } }(g, a[g]) : a[g]; return b.prototype = f, b.prototype.constructor = b, b.extend = arguments.callee, b }, c.exports = f }), define("components/zenjs/core/trigger_method", [], function () { var a = function () { function a(a, b, c) { return c.toUpperCase() } function b(a, b, c) { return [].slice.call(a, null == b || c ? 1 : b) } var c = /(^|:)(\w)/gi; return function (d) { var e = "on" + d.replace(c, a), f = this[e]; return "function" == typeof this.trigger && this.trigger.apply(this, arguments), "function" == typeof f ? f.apply(this, b(arguments)) : void 0 } }(); return a }), define("components/zenjs/events", ["require", "exports", "module", "components/zenjs/class", "components/zenjs/core/trigger_method"], function (a, b, c) { var d = a("components/zenjs/class"), e = a("components/zenjs/core/trigger_method"), f = d.extend({ on: function (a, b, c) { return this._events = this._events || {}, this._events[a] = this._events[a] || [], this._events[a].push({ callback: b, context: c, ctx: c || this }), this }, off: function (a, b, c) { var d, e, f, g, h, i, j, k; if (!a && !b && !c) return this._events = {}, this; for (g = a ? [a] : Object.keys(this._events), h = 0, i = g.length; i > h; h++) if (a = g[h], f = this._events[a]) { if (this._events[a] = d = [], b || c) for (j = 0, k = f.length; k > j; j++) e = f[j], (b && b !== e.callback && b !== e.callback._callback || c && c !== e.context) && d.push(e); d.length || delete this._events[a] } return this }, trigger: function (a) { var b, c, d, e; if (!this._events) return this; if (b = [].slice.call(arguments, 1), c = this._events[a]) for (e = -1; ++e < c.length;) (d = c[e]).callback.apply(d.ctx, b) }, triggerMethod: e }); c.exports = f }), define("wap/base/js_bridge", ["require", "components/zenjs/util/args", "components/zenjs/util/ua", "wap/base/share", "components/zenjs/events"], function () { }), define("wap/base/wx", ["wap/base/share"], function () { }), function (a, b) { function c() { return d ? d : (d = a('<div class="motify"><div class="motify-inner"></div></div>'), a("body").append(d), d) } var d, e, f = b.motify = b.motify || {}; f.log = function (a, d, f) { var g = c(), h = this; "number" != typeof d && (d = 2e3), g.show().find(".motify-inner").html(a || " "), d > 0 && (b.clearTimeout(e), e = b.setTimeout(function () { f && f.apply(null), h.clear() }, "function" != typeof f ? d : d + 300)) }, f.clear = function () { var a = c(); a.hide() } }(window.Zepto || window.jQuery || $, window), define("wap/base/motify", function () { }), window.Zepto && function (a) { ["width", "height"].forEach(function (b) { var c = b.replace(/./, function (a) { return a[0].toUpperCase() }); a.fn["outer" + c] = function (a) { var d, e, c = this; return c && c.length > 0 ? (d = c[b](), e = { width: ["left", "right"], height: ["top", "bottom"] }, e[b].forEach(function (b) { a && (d += parseInt(c.css("margin-" + b), 10)) }), d) : null } }) }(Zepto), define("vendor/zepto/outer", function () { }), define("wap/components/footer_auto", ["vendor/zepto/outer"], function () { var a = navigator.userAgent, b = ["MI", "NX507J", "SM701"], c = function () { for (var c = b.length - 1; c >= 0; c--) if (a.indexOf(b[c]) > -1) return !0; return !1 }(), d = "atuo-footer-off", e = 0 === $("." + d).length ? !1 : !0, f = function () { var h, a = $(window).height(), b = $(".container > .content"), c = $(".footer").length && $(".footer").outerHeight(!0) || 0, d = $(".container > .header"), e = $(".js-footer-auto-ele"), f = a, g = $(".js-footer-hide"); 0 !== b.length && (0 === g.length && (f -= c), d.length > 0 && (f -= d.outerHeight(!0)), e.length > 0 && (f -= e.outerHeight(!0)), b.css("min-height", f + "px"), h = +b.outerHeight(!0) - f, h > 0 && b.css("min-height", f - h + "px")) }; e || c || f() }), define("wap/base/base", ["wap/base/log", "components/zenjs/util/ua"], function () { var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p; document.addEventListener("click", function () { }, !0), a = window.Zepto || window.jQuery || a, a.yuanmi = a.yuanmi || {}, window.zenjs.UA, a.extend(a.yuanmi, { openLink: function (a, b) { if (void 0 !== a && null !== a) if (b = b || !1) { var c = window.open(a, "_blank"); c.focus() } else location.href = a } }), b = Logger.getSpm(), a(document).on("click", "a", function (c) { var j, k, l, m, d = a(this), e = d.attr("href"), f = "_blank" === d.attr("target"), g = d.data("goods-id"), h = d.prop("title") || d.text(), i = a.trim(e); "" === i || 0 === i.indexOf("javascript") || 0 === i.indexOf("tel") || d.hasClass("js-no-follow") || (j = zenjs.Args.get("yuanmifrom"), k = zenjs.Args.get("from"), (j || k) && (e = zenjs.Args.add(e, { yuanmifrom: j, from: k })), l = e, e.match(/^http?:\/\/\S*\.?(yuan\.cn|live360\.cn|enyuan\.net)/) && (l = zenjs.Args.add(e, { spm: b })), m = { fm: "click", url: e, title: a.trim(h) }, c.fromMenu && a.extend(m, { click_type: "menu" }), null !== g && void 0 !== g && a.extend(m, { click_id: g }), Logger && Logger.log(m).then(function () { (zenjs.UA.isMobile() || !f) && a.yuanmi.openLink(l) }), zenjs.UA.isMobile() || !f ? c.preventDefault() : d.attr("href", l)) }), c = function () { var b = [], c = a(".js-goods"); return c.length < 1 ? null : (c.each(function (c, d) { var e = a(d); b.push(e.data("goods-id")) }), b.join(",")) }(), Logger && Logger.log({ fm: "display", display_goods: c }), a(document.documentElement), d = a(".js-mp-info"), e = window.navigator.userAgent, f = e.match(/MicroMessenger\/(\d+(\.\d+)*)/), g = null !== f && f.length, h = g ? f[1] : "", i = h.split("."), j = [5, 2, 0], k = !0; for (l in j) { if (!i[l]) break; if (parseInt(i[l]) < j[l]) { k = !0; break } if (parseInt(i[l]) > j[l]) { k = !1; break } } m = zenjs.UA.isAndroid() && zenjs.UA.isWeixin() && k, m || d.on("click", ".js-follow-mp", function () { return window.showGuide && window.showGuide("follow"), !1 }), n = zenjs.Args.get("promote"), o = zenjs.Args.get("from"), p = a("a"), n && p.each(function () { var b = a(this), c = b.attr("href"); c = zenjs.Args.add(c, { promote: n }), c && 0 !== c.indexOf("tel") && b.attr("href", c) }), o && p.each(function () { var b = a(this), c = b.attr("href"); c = zenjs.Args.add(c, { from: o }), c && 0 !== c.indexOf("tel") && b.attr("href", c) }) }), require(["wap/base/fullguide", "vendor/fastclick_release", "wap/base/log", "wap/base/lazy_load", "wap/base/js_bridge", "wap/base/wx", "wap/base/motify", "wap/components/footer_auto", "wap/base/base"], function () { var a = function () { var a = document.getElementById("footer-delay"); a && (a.parentNode.innerHTML += a.value), document.getElementsByClassName("vote-page").length || FastClick && FastClick.attach(document.body) }; /loaded|interactive|complete/.test(document.readyState) ? a() : window.addEventListener("load", a); }), define("main", function () { });